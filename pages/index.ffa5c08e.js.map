{"mappings":"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","sources":["src/js/docs.js"],"sourcesContent":["\n\nfunction addEditDocumentsUI(){\n    let editDocsUI = `\n    <section id=\"iamcodecreation\" class=\"container\">\n</section>\n  <section id=\"uploaddocs\" class=\"container\">\n  \n    <p data-translate=\"addDocs\" class=\"heading\">1- ADD DOCUMENTS</p>\n  \n  \n    <div id=\"documentos\">\n      <div id=\"historial\">\n        <button type=\"button\" class=\"btn btn-outline-primary\"\n          onclick=\"event.stopPropagation();addDoc('#addDocument')\"><i class=\"fa-solid fa-plus\" aria-hidden=\"true\"></i>\n          <span data-translate=\"adddoc\">Add document</span></button>\n  \n\n  <table id=\"table\" class=\"table\" \n  data-pagination=\"false\" \n  data-search=\"true\" \n  data-reorderable-rows=\"true\"\n  data-use-row-attr-func=\"true\"  \n  data-card-width=\"837\"  >\n\n          <thead>\n            <tr>\n              <th data-field=\"title\" data-card-title title=\"document title\">Title</th>\n              <th data-field=\"cid\" data-card-action-links title=\"Content ID of the document\">CID</th>\n              <th data-field=\"translations\" data-card-action-links title=\"courtesy translations=\"><i\n                  class=\"fa-solid fa-globe\"></i></th>\n              <th data-print-ignore=\"true\" data-field=\"actions\" data-card-footer>Actions</th>\n  \n  \n  \n            </tr>\n          </thead>\n          <tbody id=\"uploadedDocuments\"></tbody>\n        </table>\n  \n  \n      </div>\n    </div>\n    <br>\n    <div id=\"addDocsButtons\" class=\"\">\n      <button class=\"btn btn-primary btn-lg \" id=\"createIPFSDelivery\" onclick=\"event.stopPropagation();createIPFSDelivery((this.parentElement))\" disabled data-translate=\"publicipfs\"> <i\n          class=\"fa-solid fa-envelope-circle-check\"></i> Preparer comme Envoi IPFS</button>\n      <br>\n  \n  </section>\n  \n  \n  <section id=\"createenvoi\" class=\"container\">\n  \n  \n    <ul id=\"IPFSDeliveries\">\n    \n    </ul>\n  \n  \n    <p id=\"vosenvois\"></p>\n    <div id=\"qrcode\"></div>\n  \n    <pre id=\"sigresult\"></pre>\n  \n    <br />\n  \n  \n  \n    </section>\n\n    `\n\n  document.getElementById('soveraindocspremint').innerHTML = editDocsUI\n  document.getElementById('soveraindocs').style.display='none'\n  document.getElementById('soveraindocspremint').style.display='block'\n  }\n\n\n\n\n  async function loadDocs(){\n    console.log('DOCS FUNCTION')\n    let LoadDocs = JSON.parse(window.localStorage.getItem('documents'));\n    if (LoadDocs) {\n    $('#table').bootstrapTable('destroy'); //Destroy bootstrap table\n    $('#table').bootstrapTable();\n     \n  \n  \n  //  LISTEN TO REORDER\n  $('#table').on('reorder-row.bs.table',async function (e, order) {\n      console.log(order)\n      await updateArray()\n      Toast.fire( 'order Updated','', \"success\");\n    Toast.fire( dictionary[globalLang][\"orderupdated\"],'', \"success\");\n\n  \n  });\n  \n    LoadDocs.forEach((el) => {\n    let t = el.title \n    let c = el.cid.trim()\n    let ct = el.courtesy_translations\n    let att = el.attestation\n\n    // if(!att){\n    //   console.log(`this ${el} DOESNT HAVE AN ATTESTATION`)\n    //   att = ''\n    // }\n\n    \n    var intrarows = []\n    let b =  ct.forEach((x) => {\n    let l = x.lang \n    let cid = x.cid.trim()\n    intrarows.push(` <button style=\"display:block\" type=\"button\" data-lang=\"${l}\" data-cid=\"${cid}\" class=\"btn btn-outline-primary\" onclick=\"event.stopPropagation();viewItem('${cid}')\" ><i class=\"fa-solid fa-language\"></i> <span>${l}</span></button> `)\n    })\n    \n\n    var rows = []\n    if(!att){\n      console.log(`this ${el} DOESNT HAVE AN ATTESTATION`)\n      // att = ''\n      rows.push({\n        title:`${t} <i class=\"fa-solid fa-pen edittitle\"  onclick=\"event.stopPropagation();editTitle('${t}',event)\"></i>`,\n        cid:`<p> ${c}</p>`,\n        translations:`${intrarows.join(\"\")} `,\n        actions: `\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();viewItem('${c}')\"><i class=\"fa-solid fa-eye\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();copyItem('${c}')\"><i class=\"fas fa-clipboard\" aria-hidden=\"true\"></i></button> \n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();deleteItem((this.parentElement))\"><i class=\"fas fa-trash\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();showCIDQR('${c}','${t} ')\"><i class=\"fas fa-qrcode\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();uploadCourtesyTranslation(this.parentElement)\" ><i class=\"fa-solid fa-plus\" aria-hidden=\"true\"></i> <span  data-translate=\"addcourtesytranslation\" >Add</span></button>\n        `\n      })\n    } else{\n      console.log(`YES ${el} HAS AN ATTESTATION`)\n\n      rows.push({\n        title:`${t} <i class=\"fa-solid fa-pen edittitle\"  onclick=\"event.stopPropagation();editTitle('${t}',event)\"></i>`,\n        cid:`<p> ${c}</p>`,\n        translations:`${intrarows.join(\"\")} `,\n        actions: `\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();viewItem('${c}')\"><i class=\"fa-solid fa-eye\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();copyItem('${c}')\"><i class=\"fas fa-clipboard\" aria-hidden=\"true\"></i></button> \n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();deleteItem((this.parentElement))\"><i class=\"fas fa-trash\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();showCIDQR('${c}','${t} ')\"><i class=\"fas fa-qrcode\" aria-hidden=\"true\"></i></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();uploadCourtesyTranslation(this.parentElement)\" ><i class=\"fa-solid fa-plus\" aria-hidden=\"true\"></i> <span  data-translate=\"addcourtesytranslation\" >Add</span></button>\n        <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();attestAtesttation('${att}')\" >\n        <i class=\"fa-solid fa-file-signature\"></i>\n        <span data-translate=\"attestation\">Attestation</span></button>\n        `\n      })\n    }\n\n      $('#table').bootstrapTable('append', rows)\n    \n      reloadTranslations();\n    \n    })\n    \n    // activate envoi button\n    console.log('ACTIVA BOTON ENVOI')\n    document.getElementById('createIPFSDelivery').disabled = false;// DESACTIVAR BOTON createIPFSDelivery\n    // document.querySelector('#cancelAttesting').disabled=false;\n\n    } else {\n    $('#table').bootstrapTable();\n    }\n    return true\n    }// fin loadDocs\n    \n\n  // *********************************\n  // ADD DOC\n  // *********************************\n   function addDoc(obj) {\n    console.log('ADDING DOC',obj)\n    // openModal(obj)\n\n// openModalId('#addDocument')\nopenModalId(`${obj}`)\n\n    document.getElementById('input_image').onchange = function(e) {\n      let name =input_image.files[0].name\n     let title=  name.substring(0, name.lastIndexOf('.')) || name;\n      taskInput.value = title\n      console.log('NEW title', title)\n    }\n   }\n\n\n   function openModal(id,event){\n    console.log('openingModal', id,event)\n    // if (!user) { \n      if (!userAddress) { \n  \n      Swal.fire({\n        title: \"Connect first\",\n           imageUrl: 'undraw_login_re_4vu2.svg', \n           imageWidth: 400, \n           imageHeight: 200, \n           imageAlt: 'Login!',\n        showCancelButton: true,\n        confirmButtonText: 'Connect',\n        // showLoaderOnConfirm: true,\n        allowOutsideClick: () => {\n          const popup = Swal.getPopup()\n          popup.classList.remove('swal2-show')\n          setTimeout(() => {\n            popup.classList.add('animate__animated', 'animate__headShake')\n          })\n          setTimeout(() => {\n            popup.classList.remove('animate__animated', 'animate__headShake')\n          }, 500)\n          return false\n        },\n    \n      })\n      .then((result) => {\n        if (result.isConfirmed) {\n          console.log('ok pressed',result)\n    //   login();\n    openModal('#walletOptions')\n          return\n        } \n\n      })\n  \n    return\n    }\n  \n    setTimeout(() => {\n      var myModal = new bootstrap.Modal(document.querySelector(`${id}`))\n      myModal.show(event)\n    }, 50);\n  }\n\n\n\n  // TABLE\n  function getFiles () {\n    const fileInput = document.querySelector('input[type=\"file\"]')\n    return fileInput.files\n  }\n  \n  \n  function blobToFile(theBlob, fileName){\n      theBlob.lastModifiedDate = new Date();\n      theBlob.name = fileName;\n      return theBlob;\n  }\n  \n   \n    var xinput = document.getElementsByTagName('input')[0];\n    \nxinput.onchange = function () {\n  console.log('UPLOADING PDf?')\n  console.log(this.value);\n  console.log(this.value.name);\n  console.log(input_image.files[0].name);\n  taskInput.value= input_image.files[0].name\n};\n\n  \n\n\n// ---------------------------------------------\n// UPLOAD DOCUMENT\n// ---------------------------------------------\n  document.getElementById('submit_button').addEventListener('click', async e => {\n  console.log('uploading to ipfs!')\n\n// AGREGA EL TITULO AUTOMATICAMENTE A PARTIR DEL ARCHIVO\nif(!taskInput.value){\n      console.log('give this file a title first...');\n      taskInput.classList.add(\"is-invalid\");\n  \n  Toast.fire(\"\", dictionary[globalLang][\"setTitlefirst\"], \"info\");\n  return\n    } else {\n      taskInput.classList.remove(\"is-invalid\");\n      taskInput.classList.add(\"is-valid\");\n  \n    }\n    \n    if(!input_image.files[0] ){\n    console.log('you have to select a pdf first!')\n  Toast.fire(\"\", dictionary[globalLang][\"selPDFfirst\"], \"info\");\n    return\n  }\n\n\n  // LAUNCH PASSWORD INPUT----------------------------\n        //  CHECK WALLET CHOICE (CONNECTED-DISCONNECTED)\n        let walletChoice = localStorage.getItem('wallet');\n        if (walletChoice) {\n            console.log('THERE IS WALLET  CHOICE SAVED IN LOCALSTORAGE')\n            if(walletChoice == \"METAMASK\"){\n                console.log('USE METAMASK ')              \n            }\n                  if(walletChoice ==\"LOCALWALLET\"){\n                      console.log('USE LOCALWALLET:')\n\n\n                      // FIX modal bug\n                      closeModalId('#addDocument')\n                      // openModalId('#addDocument')\n  \n                //   -------------------------------------------------------------\n                        //STEP 0 -  DECRYPT WALLET TO MAKE THE TRANSACTION\n                        await Swal.fire({ title: 'Unlock your LOCALWALLET', input: 'password', inputAttributes: { autocapitalize: 'off' }, showCancelButton: true, confirmButtonText: 'Enter', showLoaderOnConfirm: true, backdrop: true, preConfirm: (login) => { }, allowOutsideClick: () => { const popup = Swal.getPopup(); popup.classList.remove('swal2-show'); setTimeout(() => { popup.classList.add('animate__animated', 'animate__headShake') }); setTimeout(() => { popup.classList.remove('animate__animated', 'animate__headShake') }, 500); return false }, })\n                        .then((result) => {\n                        if (result.isConfirmed) {\n                        console.log('password entered!')\n                          if(result.value ==''){ console.log('IS EMPTY'); Toast.fire({ icon: 'error', title: 'Password cannot be empty' }); return; }\n                          \n\n                      // openModalId('#addDocument')\n\n                          openModalId('#attestingModal')\n                         \n                          // START STEP 0\n                          document.getElementById('stepAttest0').innerHTML= `<h5>1- Decrypting wallet \n                           <span id=\"stepAttest0Spinner\" style=\"\" class=\"spinner-grow spinner-grow-sm\"></span>\n                           <svg id=\"stepAttest0Check\"  style=\"visibility:hidden\" width=\"18\" height=\"16\" viewBox=\"0 0 512 512\"  xmlns:svg=\"http://www.w3.org/2000/svg\"> <path d=\"M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\" style=\"fill:#00ff00\"/>\n                           </svg> </h5>\n                          <div id=\"stepAttest0Progress\"></div>`;\n                          \n                          let encryptedjson = localStorage.getItem('jsonWallet')\n                          let ew = JSON.parse( encryptedjson)\n                          console.log('pub key of wallet in localstorage:', ew.address)\n                  \n\n                          ethers.Wallet.fromEncryptedJson(encryptedjson, result.value, decryptAttestProgress)\n  .then(async (localWallet) => {\n    try {\n      // DO SOMETHING HERE with 'localWallet'... ----------------------------------------------\n      console.log('WALLET DECRYPTED: ', localWallet.address)\n      \n      // // START STEP 2\n      document.getElementById('stepAttest1').innerHTML= `<h5>2- UPLOADING FILE \n      <span id=\"stepAttest1Spinner\" style=\"\" class=\"spinner-grow spinner-grow-sm\"></span>\n      <svg id=\"stepAttest1Check\"  style=\"visibility:hidden\" width=\"18\" height=\"16\" viewBox=\"0 0 512 512\"  xmlns:svg=\"http://www.w3.org/2000/svg\"> <path d=\"M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\" style=\"fill:#00ff00\"/>\n      </svg> </h5>`;\n      document.getElementById(\"cancelAttesting\").disabled = true;\n\n   // add loading\n   console.log('start loading ...')\n  document.querySelector('#submit_button').innerHTML =` <span class=\"spinner-grow spinner-grow-sm\"></span> Loading.. `;\n  submit_button.disabled = true;\n  \n  // SANITIZER\n  const title = taskInput.value\n  const data = input_image.files[0]\n  let name = data.name;// funciona...\n  console.log('name: ',name);\n\n  \n// let newStr = name.replace(/\\s/g, \"\"); // Removes all spaces\nlet newStr = name.replace(/[\\s-]/g, \"\");\n\nconsole.log('new compresed name: ',newStr);\n\n// V2 UPLOAD ..\n\n\n  // UPLOAD TO IPFS\n  let ipfsGateway = 'https://w3s.link/ipfs/'\n  \n  const files = [ new File([data], name,  { type: 'application/pdf' }) ]\n\n    const client = makeStorageClient()\n    const cid = await client.put(files, { wrapWithDirectory:false })\n    let ipfsLink = `\"${ipfsGateway}${cid}/${name}\"`\n    const urlGateway = 'https://dweb.link/api/v0';\n    let listLink  =`${urlGateway}/ls?arg=${cid}`\n\n\n    console.log('stored files with cid:','https://w3s.link/ipfs/'+ cid)\n    console.log('file link:',ipfsLink)\n    console.log('list link:',listLink)\n\n    \n\n\n// -----------------\n// UPLOAD TO IPFS'\n// console.log('UPLOADING TO IPFS...')\n// console.log('DATA:',data)\n// console.log('NAME:',name)\n// const files = [ new File([data], name,  { type: 'application/pdf' }) ]\n// console.log('files:',files)\n// f= files;\n\n\n                     // UPLOAD TO IPFS\n                    //  const client = makeStorageClient()\n                    //  try { CID =  await client.put(files, { wrapWithDirectory:false })}\n                    //  catch (error) { \n                    //   console.log(error.message); \n                    //   return }\n                    //  let ipfsLink = `${ipfsGateway}${CID}`\n                    //  console.log('IPFS STORED FILE AT :',ipfsLink)\n                    //  console.log('cid:' ,CID);\n                    //  localStorage.setItem('lastIpfsDistroCID', ipfsLink);\n\n\n\n    // const client = makeStorageClient()\n    // const cid = await client.put(files, { wrapWithDirectory:false })\n    // let ipfsLink = `\"${ipfsGateway}${cid}/${name}\"`\n    // let listLink  =`${urlGateway}/ls?arg=${cid}`\n    // console.log('stored files with cid:',ipfsGateway+ cid)\n    // console.log('file link:',ipfsLink)\n    // console.log('list link:',listLink)\n\n    // SUCCESS UPLOAD\n    document.getElementById('stepAttest1Spinner').style.display= 'none'\n    document.getElementById('stepAttest1Check').style.visibility= 'visible'\n    document.querySelector('#stepAttest2').innerHTML =`File uploaded to IPFS: ${cid} <br> <a target=\"_blank\" href=\"${'https://w3s.link/ipfs/'+ cid}\">view</a>`;\n    document.getElementById('stepAttest3').innerHTML= `<h5>3- ATTESTING \n    <span id=\"stepAttest3Spinner\" style=\"\" class=\"spinner-grow spinner-grow-sm\"></span>\n    <svg id=\"stepAttest3Check\"  style=\"visibility:hidden\" width=\"18\" height=\"16\" viewBox=\"0 0 512 512\"  xmlns:svg=\"http://www.w3.org/2000/svg\"> <path d=\"M243.8 339.8C232.9 350.7 215.1 350.7 204.2 339.8L140.2 275.8C129.3 264.9 129.3 247.1 140.2 236.2C151.1 225.3 168.9 225.3 179.8 236.2L224 280.4L332.2 172.2C343.1 161.3 360.9 161.3 371.8 172.2C382.7 183.1 382.7 200.9 371.8 211.8L243.8 339.8zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\" style=\"fill:#00ff00\"/>\n    </svg> </h5>`;\n  \n\n    // ATTEST STUFF\n     //   GET PROVIDER\n      let provider = new ethers.providers.JsonRpcProvider(`${optionsList[0].API}`);\n      console.log('JsonRpcProvider', optionsList[0].API);\n\n      //   GET NETWORK\n      try{ network = await provider.getNetwork(); }\n      catch (error) { console.log(error.message); \n      fixedToast.fire( 'Error',error.message, \"error\"); \n      mode.innerHTML = 'OFFCHAIN';\n      mode.style.border = '1px solid red';\n      mode.style.color = 'red';\n      }\n\n      // GET SIGNER\n      const signer = localWallet.connect(provider)\n      const address = await signer.getAddress();\n      balance = await signer.getBalance();\n      console.log('address and balance:', address,  parseInt( balance, 16))\n\n\n      //TIMESTAMP IN UNIXTIME\n      const timestamp = Math.floor(new Date().getTime() / 1000);\n      console.log(timestamp);\n\n        // ATTEST\n      console.log(' ATTEST document');\n      const EASContractAddress = \"0xC2679fBD37d54388Ce493F1DB75320D236e1815e\"; // Sepolia Testnet v0.26\n      let eas= new EAS(EASContractAddress);\n      console.log('provider: ', provider);\n      eas.connect(provider);\n      eas.connect(signer);\n      \n      const offchain = await eas.getOffchain();\n      \n      // PREAPARE DATA\n      console.log('offchainIAM')\n      let inputString = localStorage.getItem('iamcode')\n      const bytes32Value = stringToBytes32(inputString);\n      console.log(bytes32Value);\n                        \n    // ATTEST FOR DOCUMENT\n  // https://sepolia.easscan.org/schema/view/0x5e9a817ef4acf13c8e2dba0944586660292e02e169a2da473530e6709c502338\n  const schemaEncoder = new SchemaEncoder(\"bytes32 IAMcode,string IAMdocument\");\n  const encodedData = schemaEncoder.encodeData([\n      { name: \"IAMcode\", value: bytes32Value, type: \"bytes32\" },\n      { name: \"IAMdocument\", value: cid, type: \"string\" }\n  ]);\n\n\n  let referencedUID = localStorage.getItem('iamcodeUID');\n  console.log('referencedUID: ', referencedUID)\n\n  const offchainAttestation = await offchain.signOffchainAttestation({\n  recipient: signer.address,\n  expirationTime: 0,\n  time: timestamp,\n  revocable: true,\n  version: 1,\n  nonce: 0,\n  schema: \"0x5e9a817ef4acf13c8e2dba0944586660292e02e169a2da473530e6709c502338\",\n  refUID: referencedUID,// here reference Iam code\n  data: encodedData,\n  }, signer);\n  console.log('offchainAttestation:' ,offchainAttestation)\n  o = offchainAttestation;\n  y= JSON.stringify(o)\n  let offchainobject  = {sig: offchainAttestation, signer: signer.address}\n\n  const url = createOffchainURL(offchainobject);\n  console.log('URL:','https://sepolia.easscan.org'+url )\n  const documentAttestLink = 'https://sepolia.easscan.org'+url;\n\n      // SUCCESS ATTESTATION\n      document.getElementById('stepAttest3Spinner').style.display= 'none'\n      document.getElementById('stepAttest3Check').style.visibility= 'visible'\n      document.querySelector('#stepAttest4').innerHTML =`${  dictionary[globalLang][\"attestationsigned\"]} <br> <a target=\"_blank\" href=\"${documentAttestLink}\">view</a>`;\n  // END... -------------------------------------------------------------\n\n  // hide file input and title input\n  taskInput.style.display= 'none';\n  document.querySelector(\".input-group\").style.display= 'none';\n  \n  // SHOW OPERATION DETAILS;\n  // document.querySelector('#stepAttest2').innerHTML =`File uploaded to IPFS: ${cid} <br> <a target=\"_blank\" href=\"${'https://w3s.link/ipfs/'+ cid}\">view</a>`;\n\n  \n  // document.querySelector('#success_message').style.display= 'block';\n  // Toast.fire( 'Success','File uploaded to IPFS!', \"success\");\n  // fileuploaded\n  Toast.fire( dictionary[globalLang][\"fileuploaded\"],'', \"success\");\n\n  \n  // 1-ADD TO UI(table)\n  let cid2ui = addCidToUI(title,cid)\n  console.log('cid2ui:', cid2ui)\n  \n  \n  var $table = $('#table')\n  $table.bootstrapTable('append', cid2ui)\n  \n  // RELOAD TRANSALATIONS\n  reloadTranslations();\n  \n  // EMPTY AND RESTORE MODAL \n  taskInput.value = \"\";\n  document.querySelector('#addAnother_button').style.display= 'block';\n  \n  // 2-ADDS TO LOCALSTORAGE (store)\n  let scid = cid.trim()\n  let ct= [];\n\n  // let doc = { title: title, cid: scid, courtesy_translations: ct }\n  let doc = { title: title, cid: scid, courtesy_translations: ct, attestation: documentAttestLink }//NEW\n\n  console.log('doc:', doc)\n  SaveDocToLocalStorage(doc);\n  \n  // activate envoi button\n  console.log('ACTIVA BOTON ENVOI')\n  document.getElementById('createIPFSDelivery').disabled = false;// DESACTIVAR BOTON createIPFSDelivery\n  document.querySelector('#cancelAttesting').disabled=false;\n\n\n  // FIN DO SOMETHING HERE... -------------------------------------------------------------\n} catch (error) {\n  console.log('ERROR AT LOCALWALLET PROCESSING:', error);\n  // cancelAttesting // uploading \n  document.getElementById(\"cancelAttesting\").disabled = false;\n  taskInput.value = ''\n  taskInput.classList.remove('is-valid');\n  document.getElementById(\"submit_button\").disabled = false;\n  document.querySelector('#submit_button').innerHTML =`Upload`;\n  reloadTranslations()\n\n\n  // submit_button\n\n}\n})\n.catch((error) => {\nconsole.log('ERROR AT LOCALWALLET DECRYPTING:', error);\nToast.fire({ icon: 'error', title: error })\n});\n}\n\nelse if (result.isDenied) {\nconsole.log('NOT DECRYPTED')\nreturn\n}\n\n})\n}\n}\n  // FINC LAUNCH PASSWORD INPUT----------------------------\n\n\n\n    })\n\n\n\n\n  async function storeWithProgress (files) {\n  // show the root cid as soon as it's ready\n  const onRootCidReady = cid => {\n    console.log('uploading files with cid:', cid)\n  }\n\n  // when each chunk is stored, update the percentage complete and display\n  const totalSize = files.map(f => f.size).reduce((a, b) => a + b, 0)\n  let uploaded = 0\n\n  const onStoredChunk = size => {\n    uploaded += size\n    const pct = 100 * (uploaded / totalSize)\n    console.log(`Uploading... ${pct.toFixed(2)}% complete`)\n  }\n\n  // makeStorageClient returns an authorized web3.storage client instance\n  const client = makeStorageClient()\n\n  // client.put will invoke our callbacks during the upload\n  // and return the root cid when the upload completes\n  return client.put(files, { onRootCidReady, onStoredChunk })\n}\n\n\nfunction addCidToUI(title,cid) {\n  var rows = []\n\n  rows.push({\n  title:`${title} <i class=\"fa-solid fa-pen edittitle\"  onclick=\"event.stopPropagation();editTitle('${title}',event)\"></i>`,\n\n      cid:` ${cid}`,\n      translations:``,\n\n      actions: `\n      <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();viewItem('${cid}')\"><i class=\"fa-solid fa-eye\" aria-hidden=\"true\"></i></button>\n\n      <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();copyItem('${cid}')\"><i class=\"fas fa-clipboard\" aria-hidden=\"true\"></i></button> \n      <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();deleteItem((this.parentElement))\"><i class=\"fas fa-trash\" aria-hidden=\"true\"></i></button>\n      <button type=\"button\" class=\"btn btn-outline-info waves-effect px-3\" onclick=\"event.stopPropagation();showCIDQR('${cid}')\"><i class=\"fas fa-qrcode\" aria-hidden=\"true\"></i></button>\n      <button type=\"button\" class=\"btn btn-outline-primary\" onclick=\"event.stopPropagation();uploadCourtesyTranslation(this.parentElement)\" ><i class=\"fa-solid fa-plus\" aria-hidden=\"true\"></i> <span  data-translate=\"addcourtesytranslation\" >Add</span></button>\n      \n      `\n    })\n\n    return rows\n  }\n\n  function SaveDocToLocalStorage(data){\n    var a = [];\n    a = JSON.parse(localStorage.getItem('documents')) || [];\n    a.push(data);\n    localStorage.setItem('documents', JSON.stringify(a));\n  }\n  \n  function SaveDataToLocalStorage(data){\n    var a = [];\n    a = JSON.parse(localStorage.getItem('IPFSdistributions')) || [];\n    a.push(data);\n    localStorage.setItem('IPFSdistributions', JSON.stringify(a));\n    console.log('saved IPFSdistributions to LOCALSTORAGE')\n  }\n  \n  \n  function RemoveFromLocalStorage( index){\n    var a = [];\n    a = JSON.parse(localStorage.getItem('IPFSdistributions')) || [];\n    a = a.filter(item => item !== a[index])\n    localStorage.setItem('IPFSdistributions', JSON.stringify(a));\n  }\n  \n\n/*********************************************************************************************\n  .) EDIT TABLE ITEMS\n  **********************************************************************************************/\n\n  \n  function openLink(link) {\n    console.log('openLink:',link);\n    window.open(link, '_blank', 'fullscreen=yes');\n    return false;\n  }\n    function viewItem(cid) {\n    // let ipfsGateway = 'https://w3s.link/ipfs/';\n      // let ipfslink = ipfsGateway+cid;\n    let ipfslink = `${ipfsGateway}${cid}`;\n      console.log('ipfslink:',ipfslink);\n      window.open(ipfslink, '_blank', 'fullscreen=yes');\n    return false;\n    }\n\n      \n  // COPY TO CLIPBOARD\n  function copyItem(cid) {\n    let text = `${ipfsGateway}${cid}`;\n    let textLink = `<a href=\"${text}\">${text}</a>`;\n  \n    if (window.clipboardData && window.clipboardData.setData) {\n      Toast.fire( 'Copied to Clipboard',textLink, \"success\");\n      return window.clipboardData.setData(\"Text\", text);\n    }\n    else if (document.queryCommandSupported && document.queryCommandSupported(\"copy\")) {\n        var textarea = document.createElement(\"textarea\");\n        textarea.textContent = text;\n        textarea.style.position = \"fixed\";  // Prevent scrolling to bottom of page in Microsoft Edge.\n        document.body.appendChild(textarea);\n        textarea.select();\n        try {\n            Toast.fire( 'Copied to Clipboard',textLink, \"success\");\n            return document.execCommand(\"copy\");  // Security exception may be thrown by some browsers.\n        }\n        catch (ex) {\n            console.warn(\"Copy to clipboard failed.\", ex);\n            return prompt(\"Copy to clipboard: Ctrl+C, Enter\", text);\n        }\n        finally {\n            document.body.removeChild(textarea);\n        }\n    }\n  }\n\n  async function showCIDQR(cid,title){\n  \n    let linkIPFS = `${ipfsGateway}${cid}`\n    console.log(cid,title, linkIPFS)\n    const cidqr = new QRCodeStyling({ width: 300, height: 300, type: \"png\", data: linkIPFS, image: `iurisnaturalis.jpg`, dotsOptions: { color: \"#1568B0\", type: \"extra-rounded\" }, backgroundOptions: { color: \"#fff\", }, imageOptions: { crossOrigin: \"anonymous\", margin: 0 } });\n    let cidqrRaw =   await cidqr.getRawData('png')\n    console.log(' WATCH showCIDQR cidqrRaw: ',cidqrRaw)\n    let cidqrURL =  URL.createObjectURL(cidqrRaw)\n  \n    console.log('xqr: ', cidqr)\n  \n  \n  Swal.fire({\n  text: title,\n  imageUrl: cidqrURL,\n  imageWidth: 300,\n  imageHeight: 300,\n  imageAlt: 'QR Code image',\n  })\n  }\n\n \nfunction editTitle (title,event){\n  console.log(title,event,event.target, event.target.parentNode)\n  Swal.fire({\n  title: 'Change \"'+ title + '\" title',\n  input: 'text',\n  inputAttributes: {\n      autocapitalize: 'off'\n  },\n  showCancelButton: true,\n  confirmButtonText: 'change',\n  showLoaderOnConfirm: true,\n  preConfirm: (login) => {},\n  allowOutsideClick: () => {\n      const popup = Swal.getPopup()\n      popup.classList.remove('swal2-show')\n      setTimeout(() => { popup.classList.add('animate__animated', 'animate__headShake') })\n      setTimeout(() => { popup.classList.remove('animate__animated', 'animate__headShake') }, 500)\n      return false\n  },\n\n  })\n  .then((result) => {\n  if (result.isConfirmed) {\n      console.log('RESULT:',result.value)\n      let title = result.value;\n      let htmlcontent = `${title} <i class=\"fa-solid fa-pen edittitle\"  onclick=\"event.stopPropagation();editTitle('${title}',event)\"></i>`\n      event.target.parentNode.innerHTML=htmlcontent;\n      setTimeout(() => { updateArray(); console.log(' saved!') }, 1000);\n      return\n  } \n  })\n}\n\nasync function uploadCourtesyTranslation(event){\n  \n  console.log('adding courtesy translation', event)\n  \n    if (!userAddress) { \n      Swal.fire({\n        title: \"Connect first\",\n           imageUrl: 'undraw_login_re_4vu2.svg', \n           imageWidth: 400, \n           imageHeight: 200, \n           imageAlt: 'Connect!',\n        showCancelButton: true,\n        confirmButtonText: 'connect',\n        // showLoaderOnConfirm: true,\n        allowOutsideClick: () => {\n          const popup = Swal.getPopup()\n          popup.classList.remove('swal2-show')\n          setTimeout(() => {\n            popup.classList.add('animate__animated', 'animate__headShake')\n          })\n          setTimeout(() => {\n            popup.classList.remove('animate__animated', 'animate__headShake')\n          }, 500)\n          return false\n        },\n    \n      })\n      .then((result) => {\n        if (result.isConfirmed) {\n          console.log('ok pressed',result)\n        openModal('#walletOptions')\n        // login();\n  \n          return\n        } \n      })  \n      \n  }\n  if (userAddress) {\n    console.log('user:' , userAddress)\n \n      // 1- check if already owns/minted and UP\n  \n   \n      //=+++++++++++++++===============\n   const { value: name } = await Queue.fire({\n      title: 'seelect courtesy translation language',\n      input: 'select',\n      inputOptions: { en: 'English', fr: 'French', es: 'Spanish' },\n      inputValue: 'en',\n      showCancelButton: true,\n      currentProgressStep: 0,\n      allowOutsideClick: () => {\n        const popup = Swal.getPopup()\n        popup.classList.remove('swal2-show')\n        setTimeout(() => { popup.classList.add('animate__animated', 'animate__headShake') })\n        setTimeout(() => { popup.classList.remove('animate__animated', 'animate__headShake') }, 500)\n        return false\n      },\n      didOpen: () => {\n        Swal.getInput().addEventListener('change', () => {\n        })\n      }\n    })\n    if (name) {\n      console.log('title: ', name)\n    }else {\n      console.log('nothing to do here...')\n      return\n    }\n      //=+++++++++++++++===============\n      const { value: file } = await Queue.fire({\n        title: 'Select courtesy translation File',\n        input: 'file',\n        inputAttributes: {\n          'accept': 'pdf/*',\n          'aria-label': 'Upload your profile picture'\n        },\n        showCancelButton: true,\n        confirmButtonText: 'add',\n          currentProgressStep: 1,\n        allowOutsideClick: () => {\n          const popup = Swal.getPopup()\n          popup.classList.remove('swal2-show')\n          setTimeout(() => { popup.classList.add('animate__animated', 'animate__headShake') })\n          setTimeout(() => { popup.classList.remove('animate__animated', 'animate__headShake') }, 500)\n          return false\n        },\n        inputValidator: (value) => {\n          if (!value) {\n            return 'You need to choose something!'\n          }\n        }\n  \n      })\n      \n      if (file) {\n        console.log('file: ', file)\n      } else {\n        console.log('nothing to do here...')\n        return\n      }\n  \n         Queue.fire({\n          title: 'Your  document is being uploaded...',\n          html: 'data uploading',// add html attribute if you want or remove\n          currentProgressStep: 2,\n          allowOutsideClick: false,\n          showCancelButton: true,\n      cancelButtonText: 'close',\n          showConfirmButton: false,\n          didOpen: () => {\n              Swal.showLoading()\n          },\n        });\n  \n  \n  console.log('start loading ...')\n  \n  \n   // UPLOAD TO IPFS\n \n\nconst files = [\n  new File([file], name)\n]\nconsole.log('UPLOAD TO IPFS: ',files)\n\nconst client = makeStorageClient()\ntry { cid =  await client.put(files, { wrapWithDirectory:false })}\ncatch (error) { console.log(error.message); restoreEnvoiButton();return }\n\nlet ipfsLink = `${ipfsGateway}${cid}`\nconsole.log('stored file :',`${ipfsGateway}${cid}`)\n// ----------------\n\n \n  \n  console.log('SUCCESS: ', cid, ipfsLink);\n  \n  \n  //  add button's courtesy translation to UI\n  event.parentNode.childNodes[2].innerHTML += `\t\n  <button style=\"display:block\" type=\"button\" data-lang=\"${name}\" data-cid=\"${cid}\" class=\"btn btn-outline-primary\" onclick=\"event.stopPropagation();viewItem('${cid}')\" ><i class=\"fa-solid fa-language\"></i> <span>${name}</span></button>\n   `;\n   \n  //add to localstorage\n  updateArray()\n  \n  // show success message\n  await Queue.fire({\n      title: 'File uploaded to IPFS!',\n      icon: 'success',\n      html:`CID: ${cid}<br><br> <a target=\"_blank\" href=\"https://explore.ipld.io/#/explore/${cid}\">view </a>`,\n      currentProgressStep: 3,\n      confirmButtonText: 'ok',\n      allowOutsideClick: () => {\n        const popup = Swal.getPopup()\n        popup.classList.remove('swal2-show')\n        setTimeout(() => {\n          popup.classList.add('animate__animated', 'animate__headShake')\n        })\n        setTimeout(() => {\n          popup.classList.remove('animate__animated', 'animate__headShake')\n        }, 500)\n        return false\n      },\n      \n    }) \n  }\n  }\n\n\n\n\n  \n  // UPDATE ARRAY\n  async function updateArray(){\n    console.log('updateArray EXECUTED')\n  let docs = Array.from(document.getElementById('uploadedDocuments').children);//HECHO GLOBAL TEMPORALMENTE. \n    console.log('docs:', docs )\n    let docNames = [];\n    docs.forEach(function(docs, index) {\n          let t =  docs.children[0].innerText;//title\n          let c = docs.children[1].innerText.trim();// cid\n          let ctc = docs.children[2].children;// courtesy translations\n          let ct= [];\n          var newArray = Array.from(ctc)\n            .filter(function (item) {\n                    let x =  item.hasAttribute('data-cid');\n                if(  item.hasAttribute('data-cid')){\n                let y = item.dataset.lang; // lang\n                let z = item.dataset.cid.trim(); //cid\n                let courtesytranslations = { lang: y, cid: z }\n                ct.push(courtesytranslations)\n                }\n            });\n        let doc = { title: t, cid: c, courtesy_translations: ct }\n        docNames.push(doc);\n      });\n    \n      document.getElementById('createIPFSDelivery').disabled = false;// DESACTIVAR BOTON createIPFSDelivery\n      await localStorage.setItem('documents', JSON.stringify(docNames));\n  \n  }\n  \n\n  async function deleteItem(obj) {\n    Swal.fire({\n    title: dictionary[globalLang][\"sure\"],\n    text: dictionary[globalLang][\"wontbeabletorevertthis\"],\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: dictionary[globalLang][\"yes\"]\n    })\n    .then((result) => {\n    if (result.isConfirmed) {\n    // 1- GET INDEX\n    let rowid = obj.parentNode.getAttribute('data-index');\n    console.log('riwid: ', rowid)\n\n    // 2- DELETE FROM LOCALSTORAGE\n    let docs = Array.from(document.getElementById('uploadedDocuments').children);//HECHO GLOBAL TEMPORALMENTE. \n    let docNames = [];\n    docs.forEach(function(docs, index) {\n    let t =  docs.children[0].innerText;//title\n    let c = docs.children[1].innerText.trim();// cid\n    let ctc = docs.children[2].children;// courtesy translations\n    \n          let att = docs.children[3].children;// attestation\n\n    let ct= [];\n    var newArray = Array.from(ctc)\n    .filter(function (item) {\n            let x =  item.hasAttribute('data-cid');\n        if(  item.hasAttribute('data-cid')){\n            let y = item.dataset.lang; // lang\n            let z = item.dataset.cid.trim(); //cid\n            let courtesytranslations = { lang: y, cid: z }\n            ct.push(courtesytranslations)\n        }\n    });\n    let doc = { title: t, cid: c, courtesy_translations: ct }\n    docNames.push(doc);\n    });\n\n    //  let docNames[rowid]\n    let updatedDocNames = docNames.filter(item => item !== docNames[rowid])\n    localStorage.setItem('documents', JSON.stringify(updatedDocNames));\n\n    // 3- UPDATE TABLE\n    $('#table').bootstrapTable('remove', { field: '$index', values: [Number(rowid)] });\n\n    // 4- SEND SWEET MESSAGE \n    // Toast.fire( 'document deleted','', \"success\");\n    Toast.fire( dictionary[globalLang][\"documentdeleted\"],'', \"success\");\n    // title: dictionary[globalLang][\"createpasswordtoencryptwallet\"],\n\n    }\n})\n}\n"],"names":[],"version":3,"file":"index.ffa5c08e.js.map","sourceRoot":"/__parcel_source_root/"}